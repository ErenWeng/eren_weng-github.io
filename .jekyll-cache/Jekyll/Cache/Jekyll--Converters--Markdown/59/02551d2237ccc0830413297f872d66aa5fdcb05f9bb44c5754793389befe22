I"<p><br /></p>

<h3 id="let-å’Œ-let-çš„å€åˆ¥"><code class="language-plaintext highlighter-rouge">let</code> å’Œ <code class="language-plaintext highlighter-rouge">let!</code> çš„å€åˆ¥</h3>

<p>åœ¨å¯«æ¸¬è©¦æ™‚ï¼Œå¦‚æœé‡åˆ°éœ€è¦é‡è¤‡ä½¿ç”¨çš„åƒæ•¸æ™‚ï¼Œé€™æ™‚æœƒç”¨letæŠŠåƒæ•¸ä¸€æ¬¡å¯«åœ¨æœ€å‰é¢</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">let</code>ï¼šåªåœ¨åƒæ•¸è¢«å‘¼å«æ™‚æ‰æœƒè§¸ç™¼ï¼Œåˆç¨±æƒ°æ€§æ±‚å€¼ï¼ˆLazy Evaluationï¼‰</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def let(name, &amp;block)
  raise "#let or #subject called without a block" if block.nil?
  raise(
  "#let or #subject called with a reserved name #initialize"
  ) if :initialize == name
  our_module = MemoizedHelpers.module_for(self)

  if our_module.instance_methods(false).include?(name)
    our_module.__send__(:remove_method, name)
  end
  our_module.__send__(:define_method, name, &amp;block)

  if instance_methods(false).include?(name)
    remove_method(name)
  end
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">let!</code>ï¼šåœ¨æ¯å€‹exampleå‰é¢éƒ½æœƒäº‹å…ˆè§¸ç™¼</li>
</ul>

<p>åŸå§‹ç¢¼ï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def let!(name, &amp;block)
  let(name, &amp;block)
  before { __send__(name) }
end
</code></pre></div></div>
:ET